{% extends "client/base.html" %}

{% block title %}Mon contrat — Electruc{% endblock %}

{% block client_content %}
  <h3 class="h5">Mon contrat</h3>

  {% if contract %}
    <div class="border rounded-3 p-3 bg-light mb-3">
      <p class="mb-1"><strong>Référence :</strong> {{ contract.reference }}</p>
      <p class="mb-1"><strong>Offre :</strong> {{ contract.plan_name }}</p>
      <p class="mb-1"><strong>Date de début :</strong> {{ contract.start_date|date:"d/m/Y" }}</p>
      <p class="mb-1"><strong>Statut :</strong> {{ contract.get_status_display }}</p>
      <p class="mb-1"><strong>Adresse de fourniture :</strong> {{ contract.supply_address }}</p>
      {% if profile %}
        <p class="mb-0"><strong>EAN :</strong> {{ profile.ean }}</p>
      {% endif %}
    </div>
  {% else %}
    <p>Aucun contrat disponible pour le moment.</p>
  {% endif %}

  <div class="d-flex flex-wrap gap-2">
    <a class="btn btn-outline-secondary" href="{% url 'cgv_download' %}">
      Télécharger les CGV (PDF)
    </a>
    {% if contract %}
      <a class="btn btn-primary" href="{% url 'contract_pdf_download' %}">
        Télécharger mon contrat (PDF)
      </a>
    {% endif %}
  </div>
{% endblock %}
